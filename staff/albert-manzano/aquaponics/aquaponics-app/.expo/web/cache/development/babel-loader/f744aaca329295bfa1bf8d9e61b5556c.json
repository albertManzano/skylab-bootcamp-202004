{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/betho/bootcamp/collab/skylab-bootcamp-202004/staff/albert-manzano/aquaponics/aquaponics-app/src/components/Landing/index.js\";\nimport React, { useState } from 'react';\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { registerUser, loginUser } from 'aquaponics-client-logic';\nimport styles from \"./styles\";\nimport SideIntro from \"../SideIntro\";\nimport Login from \"../Login\";\nimport Navbar from \"../Navbar\";\nimport Register from \"../Register\";\n\nfunction Landing(_ref) {\n  var onAuthorized = _ref.onAuthorized;\n\n  var _useState = useState('landing'),\n      _useState2 = _slicedToArray(_useState, 2),\n      view = _useState2[0],\n      setView = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      displayed = _useState4[0],\n      setSide = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var handleSide = function handleSide() {\n    return setSide(!displayed);\n  };\n\n  var handleGoToRegister = function handleGoToRegister() {\n    setSide(false);\n    setView(\"register\");\n    setError(null);\n  };\n\n  var handleGoToLogin = function handleGoToLogin() {\n    setView(\"login\");\n    setSide(false);\n    setError(null);\n  };\n\n  var handleLogin = function handleLogin(email, password) {\n    var result;\n    return _regeneratorRuntime.async(function handleLogin$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            setError(null);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(loginUser(email, password));\n\n          case 4:\n            result = _context.sent;\n\n            if (!(result === undefined)) {\n              _context.next = 9;\n              break;\n            }\n\n            onAuthorized();\n            _context.next = 10;\n            break;\n\n          case 9:\n            throw new Error('authorization problem, please retry');\n\n          case 10:\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            if (_context.t0) setError(_context.t0);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 12]], Promise);\n  };\n\n  var handleRegister = function handleRegister(name, surname, email, password, _password, phone) {\n    var result;\n    return _regeneratorRuntime.async(function handleRegister$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            setError(null);\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(registerUser(name, surname, email, password, _password, phone));\n\n          case 4:\n            result = _context2.sent;\n            if (!result) setView('login');\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            if (_context2.t0) setError(_context2.t0);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(SafeAreaView, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, React.createElement(Navbar, {\n    onDisplaySide: handleSide,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }), React.createElement(ImageBackground, {\n    source: require(\"../../../assets/images/lettuce1.jpg\"),\n    style: styles.image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, view === 'landing' && React.createElement(Text, {\n    style: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 40\n    }\n  }, \"Welcome to Red Rock Aquaponics\"), view === 'landing' && React.createElement(React.Fragment, null, displayed && React.createElement(SideIntro, {\n    onGoToRegister: handleGoToRegister,\n    onGoToLogin: handleGoToLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 35\n    }\n  })), view === 'login' && React.createElement(React.Fragment, null, React.createElement(Login, {\n    error: error,\n    onLogin: handleLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }), displayed && React.createElement(SideIntro, {\n    onGoToRegister: handleGoToRegister,\n    onGoToLogin: handleGoToLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 35\n    }\n  })), view === 'register' && React.createElement(React.Fragment, null, React.createElement(Register, {\n    error: error,\n    onRegister: handleRegister,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }), displayed && React.createElement(SideIntro, {\n    onGoToRegister: handleGoToRegister,\n    onGoToLogin: handleGoToLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 35\n    }\n  })))));\n}\n\nexport default Landing;","map":{"version":3,"sources":["/home/betho/bootcamp/collab/skylab-bootcamp-202004/staff/albert-manzano/aquaponics/aquaponics-app/src/components/Landing/index.js"],"names":["React","useState","registerUser","loginUser","styles","SideIntro","Login","Navbar","Register","Landing","onAuthorized","view","setView","displayed","setSide","error","setError","handleSide","handleGoToRegister","handleGoToLogin","handleLogin","email","password","result","undefined","Error","handleRegister","name","surname","_password","phone","container","require","image","title"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;;AAOA,SAASC,YAAT,EAAuBC,SAAvB,QAAwC,yBAAxC;AAEA,OAAOC,MAAP;AAEA,OAAOC,SAAP;AACA,OAAOC,KAAP;AACA,OAAOC,MAAP;AACA,OAAOC,QAAP;;AAEA,SAASC,OAAT,OAAmC;AAAA,MAAhBC,YAAgB,QAAhBA,YAAgB;;AAAA,kBACPT,QAAQ,CAAC,SAAD,CADD;AAAA;AAAA,MACxBU,IADwB;AAAA,MAClBC,OADkB;;AAAA,mBAEFX,QAAQ,CAAC,KAAD,CAFN;AAAA;AAAA,MAExBY,SAFwB;AAAA,MAEbC,OAFa;;AAAA,mBAGLb,QAAQ,CAAC,EAAD,CAHH;AAAA;AAAA,MAGxBc,KAHwB;AAAA,MAGjBC,QAHiB;;AAK/B,MAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,WAAMH,OAAO,CAAC,CAACD,SAAF,CAAb;AAAA,GAAnB;;AAEA,MAAMK,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC7BJ,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAF,IAAAA,OAAO,CAAC,UAAD,CAAP;AACAI,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,GAJD;;AAMA,MAAMG,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC1BP,IAAAA,OAAO,CAAC,OAAD,CAAP;AACAE,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAE,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,GAJD;;AAMA,MAAMI,WAAW,GAAG,SAAdA,WAAc,CAAOC,KAAP,EAAcC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZN,YAAAA,QAAQ,CAAC,IAAD,CAAR;AAFY;AAAA,6CAGSb,SAAS,CAACkB,KAAD,EAAQC,QAAR,CAHlB;;AAAA;AAGNC,YAAAA,MAHM;;AAAA,kBAIRA,MAAM,KAAKC,SAJH;AAAA;AAAA;AAAA;;AAIcd,YAAAA,YAAY;AAJ1B;AAAA;;AAAA;AAAA,kBAKD,IAAIe,KAAJ,CAAU,qCAAV,CALC;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAOZ,6BAAWT,QAAQ,aAAR;;AAPC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApB;;AAWA,MAAMU,cAAc,GAAG,SAAjBA,cAAiB,CAAOC,IAAP,EAAaC,OAAb,EAAsBP,KAAtB,EAA6BC,QAA7B,EAAuCO,SAAvC,EAAkDC,KAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEfd,YAAAA,QAAQ,CAAC,IAAD,CAAR;AAFe;AAAA,6CAGMd,YAAY,CAACyB,IAAD,EAAOC,OAAP,EAAgBP,KAAhB,EAAuBC,QAAvB,EAAiCO,SAAjC,EAA4CC,KAA5C,CAHlB;;AAAA;AAGTP,YAAAA,MAHS;AAIf,gBAAI,CAACA,MAAL,EAAaX,OAAO,CAAC,OAAD,CAAP;AAJE;AAAA;;AAAA;AAAA;AAAA;AAMf,8BAAWI,QAAQ,cAAR;;AANI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAUA,SAAQ,0CACJ,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAEZ,MAAM,CAAC2B,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAQ,IAAA,aAAa,EAAEd,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,eAAD;AAAiB,IAAA,MAAM,EAAEe,OAAO,uCAAhC;AAAyE,IAAA,KAAK,EAAE5B,MAAM,CAAC6B,KAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKtB,IAAI,KAAK,SAAT,IAAsB,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEP,MAAM,CAAC8B,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAD3B,EAEKvB,IAAI,KAAK,SAAT,IAAuB,0CACnBE,SAAS,IAAI,oBAAE,SAAF;AAAY,IAAA,cAAc,EAAEK,kBAA5B;AAAgD,IAAA,WAAW,EAAEC,eAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,CAF5B,EAKKR,IAAI,KAAK,OAAT,IAAqB,0CAElB,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEI,KAAd;AAAqB,IAAA,OAAO,EAAEK,WAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFkB,EAGjBP,SAAS,IAAI,oBAAC,SAAD;AAAW,IAAA,cAAc,EAAEK,kBAA3B;AAA+C,IAAA,WAAW,EAAEC,eAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHI,CAL1B,EAUKR,IAAI,KAAK,UAAT,IAAwB,0CAErB,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEI,KAAjB;AAAwB,IAAA,UAAU,EAAEW,cAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFqB,EAGpBb,SAAS,IAAI,oBAAC,SAAD;AAAW,IAAA,cAAc,EAAEK,kBAA3B;AAA+C,IAAA,WAAW,EAAEC,eAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHO,CAV7B,CAFJ,CADI,CAAR;AAqBH;;AAED,eAAeV,OAAf","sourcesContent":["import React, { useState } from 'react';\nimport {\n    ImageBackground,\n    SafeAreaView,\n    Text\n} from 'react-native';\n\nimport { registerUser, loginUser } from 'aquaponics-client-logic'\n\nimport styles from './styles';\n\nimport SideIntro from '../SideIntro'\nimport Login from '../Login'\nimport Navbar from '../Navbar'\nimport Register from '../Register'\n\nfunction Landing({ onAuthorized }) {\n    const [view, setView] = useState('landing')\n    const [displayed, setSide] = useState(false);\n    const [error, setError] = useState('')\n\n    const handleSide = () => setSide(!displayed);\n\n    const handleGoToRegister = () => {\n        setSide(false)\n        setView(\"register\")\n        setError(null)\n    }\n\n    const handleGoToLogin = () => {\n        setView(\"login\")\n        setSide(false)\n        setError(null)\n    }\n\n    const handleLogin = async (email, password) => {\n        try {\n            setError(null)\n            const result = await loginUser(email, password)\n            if (result === undefined) onAuthorized()\n            else throw new Error('authorization problem, please retry')\n        } catch (error) {\n            if (error) setError(error)\n        }\n    }\n\n    const handleRegister = async (name, surname, email, password, _password, phone) => {\n        try {\n            setError(null)\n            const result = await registerUser(name, surname, email, password, _password, phone)\n            if (!result) setView('login')\n        } catch (error) {\n            if (error) setError(error)\n        }\n    }\n\n    return (<>\n        <SafeAreaView style={styles.container}>\n            <Navbar onDisplaySide={handleSide} />\n            <ImageBackground source={require('../../../assets/images/lettuce1.jpg')} style={styles.image}>\n                {view === 'landing' && <Text style={styles.title} >Welcome to Red Rock Aquaponics</Text>}\n                {view === 'landing' && (<>\n                    {displayed && < SideIntro onGoToRegister={handleGoToRegister} onGoToLogin={handleGoToLogin} />}\n                </>)}\n                {view === 'login' && (<>\n                    {/* <Navbar onDisplaySide={handleSide} /> */}\n                    <Login error={error} onLogin={handleLogin} />\n                    {displayed && <SideIntro onGoToRegister={handleGoToRegister} onGoToLogin={handleGoToLogin} />}\n                </>)}\n                {view === 'register' && (<>\n                    {/* <Navbar onDisplaySide={handleSide} /> */}\n                    <Register error={error} onRegister={handleRegister} />\n                    {displayed && <SideIntro onGoToRegister={handleGoToRegister} onGoToLogin={handleGoToLogin} />}\n                </>)}\n            </ImageBackground>\n        </SafeAreaView>\n    </>)\n}\n\nexport default Landing"]},"metadata":{},"sourceType":"module"}